---
title: 前端_组件拆分
date: 2021-05-06 17:52:24
categories:  [vue]
tags: [vue]
---


<!--more-->


# 组件拆分

组件拆分图
![](https://noback.upyun.com/2021-05-06-17-52-41.png!)

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://unpkg.com/vue@next"></script>
</head>
<body>
    <div id="root"></div>
</body>
<script>
    const app = Vue.createApp({
        template: `
        <div>
             <hello/> 
             <world/>
             <counter/>  
             <counter/>
             <counter/>
             <counter/>
             <counter/>
             <counter-parent/>
        </div>`
    })

    app.component('hello',{
        template: `<div>hello</div>`
    })

    app.component('world',{
        template: `<div>world</div>`
    })

    app.component('counter-parent',{
        template: `<counter/>`
    })

    app.component('counter',{
        data(){
            return {
                count:1
            }
        },
        template: `<span @click="count+=1">{{ count }}</span>`
    })

    app.mount("#root")
</script>
</html>
```

counter组件之间互相隔离


## 公共组件复用
```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://unpkg.com/vue@next"></script>
</head>
<body>
    <div id="root"></div>
</body>
<script>
        // 定义公共组件
    const counter = {
        data() {
            return {
                count: 1
            }
        },
        template: `<div @click="count+=1"> {{ count }}</div>`
    }

    const app = Vue.createApp({
        components:{counter:counter},
        template: `
        <div>
            <counter/>
        </div>`
    })


    app.mount("#root")
</script>
</html>
```

## 单向数据流传递

```html
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>helloworld</title>
    <script src="https://unpkg.com/vue@next"></script>
</head>

<body>
    <div id="root"></div>
</body>

<script>
    const app = Vue.createApp({
        data(){
            return {
                // one:1,
                // two:2,
                // three:3,
                params:{
                    one:1,
                    two:2,
                    three:3
                }
            }
        },
        // template: `
            // <div>
                // <hello :one=one :two=two :three=three/>
                // </div>
        // `
        template: `
            <div>
                <hello v-bind="params"/>
            </div>
        `
    });

    app.component('hello',{
        props:['one','two','three'],
        template:`<span>{{one}}-{{two}}--{{three}}</span>`
    })
    const vm = app.mount('#root');
</script>

</html>
```

![](https://noback.upyun.com/2021-05-07-12-15-35.png!)


## non-prop 属性

当父子组件传递参数的时候，子组件不用props接收，那么父组件传递的key-value 内容会被透传到子组件上

![](https://noback.upyun.com/2021-05-07-12-31-12.png!)
![](https://noback.upyun.com/2021-05-07-12-31-23.png!)


```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://unpkg.com/vue@next"></script>
</head>
<body>
    <div id="root"></div>
</body>
<script>

    const app = Vue.createApp({
        template:`
            <div>
                <hello msg="value" />
            </div>
        `
    });

    const app2 = app.component('hello',{
        inheritAttrs:false, // 禁用父组件传值                     
        template:`<div> <hello2/> hello</div>`
    })

    app2.component('hello2',{
        template: `<div>world</div>`
    })

    

    const vm = app.mount("#root");

</script>
</html>

```