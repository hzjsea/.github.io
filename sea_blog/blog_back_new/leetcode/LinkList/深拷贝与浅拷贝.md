---
title: 深拷贝与浅拷贝
categories:
  - leetcode
tags:
  - leetcode
abbrlink: 23ccefd3
date: 2019-12-27 17:33:42
---



<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->


<!-- more -->

# 数据类型
数据分为
- 基本数据类型(String, Number, Boolean, Null, Undefined，Symbol)
- 对象数据类型。

- 基本数据类型的特点: 直接存储在栈(stack)中的数据
- 引用数据类型的特点：存储的是该对象在栈中引用，真实的数据存放在堆内存里
引用数据类型在栈中存储了指针，该指针指向堆中该实体的起始地址。当解释器寻找引用值时，会首先检索其在栈中的地址，取得地址后从堆中获得实体。

[图]

## 深拷贝和浅拷贝 
深拷贝和浅拷贝是只针对Object和Array这样的引用数据类型的。
浅拷贝只复制指向某个对象的指针，而不复制对象本身，新旧对象还是共享同一块内存。但深拷贝会另外创造一个一模一样的对象，新对象跟原对象不共享内存，修改新对象不会改到原对象。
![图片](https://user-gold-cdn.xitu.io/2018/7/29/164e6856d76ff161?imageslim)

<font color='blue'>是和Linux中的软硬链接有关系吗</font>

## 赋值和浅拷贝的区别
- 当我们把一个对象赋值给一个新的变量时，赋的其实是该对象的在栈中的地址，而不是堆中的数据。也就是两个对象指向的是同一个存储空间，无论哪个对象发生改变，其实都是改变的存储空间的内容，因此，两个对象是联动的。
- 浅拷贝是按位拷贝对象，它会创建一个新对象，这个对象有着原始对象属性值的一份精确拷贝。如果属性是基本类型，拷贝的就是基本类型的值；如果属性是内存地址（引用类型），拷贝的就是内存地址 ，因此如果其中一个对象改变了这个地址，就会影响到另一个对象。即默认拷贝构造函数只是对对象进行浅拷贝复制(逐个成员依次拷贝)，即只复制对象空间而不复制资源。


浅拷贝与深拷贝

https://www.runoob.com/w3cnote/python-understanding-dict-copy-shallow-or-deep.html
https://juejin.im/post/5b5dcf8351882519790c9a2e#heading-7