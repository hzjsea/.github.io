---
title: ansible安装
categories:
  - ansible
tags:
  - ansible
abbrlink: ddd9d579
date: 2020-03-08 19:01:36
---


<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [ansible安装](#ansible安装)
  - [源码安装](#源码安装)
  - [mac安装](#mac安装)

<!-- /code_chunk_output -->


learn ansible
<!-- more -->

# ansible安装

官方文档地址
https://ansible-tran.readthedocs.io/en/latest/docs/intro_installation.html

## 源码安装
这里安装的pip是Python2版本的，因此安装的ansible版本也是python2版本的，随着时间的增加， python2要慢慢停止维护了
```bash 
git clone git://github.com/ansible/ansible.git --recursive
cd ./ansible
source ./hacking/env-setup
sudo easy_install pip
pip install  paramiko PyYAML Jinja2 httplib2 six

# ansible 2.11.0.dev0 (devel aee7a3ed68) last updated 2020/11/12 06:43:01 (GMT +000)
#   config file = None
#   configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']
#   ansible python module location = /root/ansible/lib/ansible
#   ansible collection location = /root/.ansible/collections:/usr/share/ansible/collections
#   executable location = /root/ansible/bin/ansible
#   python version = 2.7.5 (default, Aug 18 2016, 15:58:25) [GCC 4.8.5 20150623 (Red Hat 4.8.5-4)]
#   jinja version = 2.11.2
#   libyaml = True
```
```bash 
git pull --rebase
git submodule update --init --recursive
```

## mac安装
```bash
brew install ansible
```
这里ansible安装有一个问题就是他不会生成一个/etc/ansible的文件，需要拷贝源码包中的内容到/etc/ansible下面
```bash
git clone git://github.com/ansible/ansible.git
mkdir -p /etc/ansible
mv ./ansible/examples/* /etc/ansible/
rm -rf ./ansible
```
这里安装的是ansible的新版本，用的是python3+的版本
```bash
ansible 2.9.1
  config file = /etc/ansible/ansible.cfg
  configured module search path = ['/Users/alpaca/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/Cellar/ansible/2.9.1/libexec/lib/python3.7/site-packages/ansible
  executable location = /usr/local/bin/ansible
  python version = 3.7.5 (default, Nov  1 2019, 02:16:32) [Clang 11.0.0 (clang-1100.0.33.8)]
```